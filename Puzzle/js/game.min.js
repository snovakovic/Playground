var game=function(){var l=document.getElementById("puzzleContainer"),n,i,h,f,t,e,o=!1,r=!1,c=function(){var t="";n.forEach(function(n,r){var u=n===i?"puzzle-field active":"puzzle-field",f=s.format("width:{0}; height:{0}",h);t+=s.format('<div class="{0}" id="field_{1}" data-index="{1}" onClick="game.click({1})" style="{3}">{2}<\/div>',u,r,n,f)});l.innerHTML=t},u=function(u){if((console.log("swapFields"),r)&&u>=0&&u<i){console.log("swap index ",t,"with index ",u);var f=n[t];n[t]=n[u];n[u]=f;c();a();t=u}},a=function(){o=!0;for(var t=0,i=n.length;t<i;t++)if(n[t]!==t+1){o=!1;break}o&&(r=!1,e())},v=function(){alert("Victory")};return e=v,document.onkeydown=function(n){if(r){n=n||window.event;switch(n.which||n.keyCode){case 37:u(t-1);n.preventDefault&&n.preventDefault();break;case 38:u(t-f);n.preventDefault&&n.preventDefault();break;case 39:u(t+1);n.preventDefault&&n.preventDefault();break;case 40:u(t+f);n.preventDefault&&n.preventDefault();break;default:return}}},{victory:function(n){e=n},start:function(u){if(u=u||4,u<3||u>6)throw new Error("game start >> size must be between 3 and 6");h=100/u+"%";var e=[];s.iterate(u*u,function(n){e.push(n+1)});n=s.shuffle(e);i=n.length;t=n.indexOf(u*u);console.log(t);c();f=Math.sqrt(i);r=!0},click:function(n){console.log(n)}}}();
/*
//# sourceMappingURL=game.min.js.map
*/